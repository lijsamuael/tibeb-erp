{
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 0,
 "anonymous": 0,
 "apply_document_permissions": 0,
 "button_label": "Save",
 "client_script": "frappe.web_form.on('supplier', (field, value) => {\n    if (value) {\n        frappe.call({\n            method: 'frappe.client.get',\n            args: {\n                doctype: 'Supplier',\n                name: value\n            },\n            callback: function(response) {\n                if (response.message) {\n                    frappe.web_form.set_value('supplier_name', response.message.supplier_name);\n                }\n            }\n        });\n    }\n});\n\nfrappe.web_form.on('referenced_request_for_quotation', (field, value) => {\n    if (value) {\n        frappe.call({\n            method: 'frappe.client.get',\n            args: {\n                doctype: 'Request for Quotation',\n                name: value\n            },\n            callback: function(response) {\n                if (response.message) {\n                    let items = response.message.items || [];\n                    console.log(\"items\", items)\n                    \n                    let field = frappe.web_form.get_field('items');\n\n                    items.forEach((item, index) => {\n                        // Add a new row\n                        field.grid.add_new_row();\n\n                        // Get the last row in the grid after adding\n                        let grid_rows = field.grid.grid_rows;\n                        let last_row = grid_rows[grid_rows.length - 1];\n\n                        // Set values in the newly added row\n                        last_row.doc.item_code = item.item_code;\n                        last_row.doc.qty = item.qty;\n                        last_row.doc.uom = item.uom;\n                        last_row.doc.rate = item.rate;\n                        last_row.doc.amount = item.amount;\n                        last_row.doc.warehouse = item.warehouse;\n\n                        // Refresh the last row to reflect the changes\n                        last_row.refresh();\n                    });\n                }\n            }\n        });\n    }\n});\n\nfrappe.web_form.after_load = () => {\n    frappe.msgprint('Please select a Supplier and Request for Quotation to auto-fill details.');\n};",
 "condition_json": "[]",
 "creation": "2025-02-03 10:56:41.293611",
 "doc_type": "Supplier Quotation",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "introduction_text": "<div class=\"ql-editor read-mode\"><p><strong>\ud83d\udccb Follow these steps to submit your quotation:</strong></p><p><strong><span class=\"ql-cursor\">\ufeff</span></strong></p><p><strong>1\ufe0f\u20e3 Select Your Name</strong> \u2013 Choose your name from the supplier list.</p><p>2\ufe0f\u20e3 <strong>Pick a Date</strong> \u2013 Select the date for your quotation submission.</p><p>3\ufe0f\u20e3 <strong>Reference the Request</strong> \u2013 Link your quotation to an existing request for quotation (RFQ).</p><p>4\ufe0f\u20e3 <strong>Update Pricing</strong> \u2013 Enter the price only for the items listed in the RFQ.</p><p><br></p><p>Once submitted, our <strong>procurement team</strong> will review your quotation and reach out if further details are needed.</p><p>\ud83d\udccc <strong>Note:</strong> Ensure accuracy, as incomplete or incorrect entries may not be considered.</p></div>",
 "is_standard": 1,
 "list_columns": [],
 "login_required": 0,
 "max_attachment_size": 0,
 "modified": "2025-02-03 16:52:22.558039",
 "modified_by": "lijsamuael@gmail.com",
 "module": "Buying",
 "name": "supplier-quotation",
 "owner": "lijsamuael@gmail.com",
 "published": 1,
 "route": "supplier-quotation",
 "show_attachments": 0,
 "show_list": 0,
 "show_sidebar": 0,
 "title": "Supplier Quotation",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "supplier",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Supplier",
   "max_length": 0,
   "max_value": 0,
   "options": "Supplier",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "depends_on": "eval:doc.supplier",
   "fieldname": "supplier_name",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Supplier Name",
   "max_length": 0,
   "max_value": 0,
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "referenced_request_for_quotation",
   "fieldtype": "Link",
   "hidden": 0,
   "label": "Referenced Request for Quotation",
   "max_length": 0,
   "max_value": 0,
   "options": "Request for Quotation",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "Today",
   "fieldname": "transaction_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Date",
   "max_length": 0,
   "max_value": 0,
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "depends_on": "eval:doc.referenced_request_for_quotation",
   "fieldname": "items",
   "fieldtype": "Table",
   "hidden": 0,
   "label": "Items",
   "max_length": 0,
   "max_value": 0,
   "options": "Supplier Quotation Item",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  }
 ]
}